name: FFIVFE-{player}
description: Mission Archipelago - Final Fantasy IV Free Enterprise
requires:
  version: 0.6.4

Final Fantasy IV Free Enterprise:
  ################
  # Game Options #
  ################
  progression_balancing: normal

  accessibility:
    # Set rules for reachability of your items/locations.
    # 
    # **Full:** ensure everything can be reached and acquired.
    # 
    # **Minimal:** ensure what is needed to reach your goal can be acquired.
    full: 50
    minimal: 0

  #####################
  # Objective Options #
  #####################
  MainObjective:
    # The primary objective (determined with triggers).
    # crystal, giant, fiends, dark-matter: only one main objective as defined below
    # crystal-plus, etc.: definitely has the i.e. crystal objective, plus 0-3 other main objectives
    # none: no main objectives, just bonus ones
    crystal: 128
    giant: 64
    fiends: 32
    dark-matter: 16
    crystal-plus: 2
    giant-plus: 2
    fiends-plus: 2
    dark-matter-plus: 2
    none: 1

  ForgeTheCrystal:
    # Bring the Adamant and Legend Sword to clear this objective.
    # Forces the objective reward to be the Crystal.
    # Always false - otherwise breaks MainObjective triggers.
    'false': 1
    'true': 0

  ConquerTheGiant:
    # Clear the Giant of Bab-il to clear this objective.
    # No character will be available from the Giant with this objective.
    # Always false - otherwise breaks MainObjective triggers.
    'false': 1
    'true': 0

  DefeatTheFiends:
    # Defeat every elemental fiend to clear this objective.
    # Your targets are Milon, Milon Z., Kainazzo, Valvalis, Rubicant, and the Elements bosses. Good hunting.
    # Always false - otherwise breaks MainObjective triggers.
    'false': 1
    'true': 0

  FindTheDarkMatter:
    # Find thirty Dark Matters and deliver them to Kory in Agart to clear this objective.
    # There are forty-five Dark Matters in total.
    # Always false - otherwise breaks MainObjective triggers.
    'false': 1
    'true': 0

  AdditionalObjectives:
    # The number of additional random objectives. Can be quests, boss fights, or character recruitments. Note that
    # no matter what this is set to, no more than thirty-two objectives will be set.
    #
    # You can define additional values between the minimum and maximum values.
    # Minimum value is 0
    # Maximum value is 32
    # Default is 0
    0: 16
    random-range-low-1-4: 8
    random-range-low-5-10: 4
    random-range-low-11-20: 2
    random-range-low-21-32: 1

  RequiredObjectiveCount:
    # The number of objectives required for victory. Note that this is ignored when no objectives are set. If this
    # count is greater than the total number of objectives available, then it will be reduced to match the number of
    # available objectives.
    #
    # You can define additional values between the minimum and maximum values.
    # Minimum value is 1
    # Maximum value is 32
    # Default is 32
    32: 1 # whatever objectives are generated, we should be required to do them

  ObjectiveReward:
    # The reward for clearing all objectives. Note that this is ignored when no objectives are set,
    # and Forge the Crystal forces this to the Crystal setting.
    crystal: 2
    win: 1

  #####################
  # Character Options #
  #####################
  NoFreeCharacters:
    # If set, characters will not be available at locations with no requirements or bosses. These locations are
    # Mysidia, Damcyan Watery Pass, and Mt. Ordeals.
    'false': 50
    'true': 0

  NoEarnedCharacters:
    # If set, characters will not be available at locations with requirements or bosses. These locations are Mist,
    # Kaipo, Mt. Hobs, Baron, the Tower of Zot, Cave Eblana, Lunar Palace, and the Giant of Bab-il.
    'false': 50
    'true': 0

  AllowedCharacters:
    # Pool of characters allowed to show up. Note that if Hero Challenge is enabled, your hero will still appear.
    ['Cecil', 'Kain', 'Rydia', 'Tellah', 'Edward', 'Rosa', 'Yang', 'Palom', 'Porom', 'Cid', 'Edge', 'Fusoya']

  EnsureAllCharacters:
    # Ensure at least one instance of each allowed character is available, if possible.
    'false': 0
    'true': 50

  AllowDuplicateCharacters:
    # Allows multiple instances of the same character to join your party.
    'false': 0
    'true': 50

  RestrictedCharacters:
    # List of characters that can't appear in the easiest to access locations if possible.
    ['Edge', 'Fusoya']

  ################
  # Item Options #
  ################
  ItemPlacement:
    # Where items can and will be placed.
    # Setting this to Full Shuffle will allow any items to be anywhere.
    # Setting this to Major Minor Split will force all non-major locations to never have progression.
    # In either case, major locations can only have useful or progression items.
    # Major locations are any MIAB or event locations.
    full_shuffle: 50
    major_minor_split: 0

  ItemRandomization:
    # Affects item pool - default is wild but that's... wild
    standard: 8
    pro: 4
    wildish: 2
    wild: 1

  PassEnabled:
    # Will the Pass be included in the Key Item Pool?
    'false': 4
    'true': 1

  PassInShops:
    # Can the pass show up in shops? This is a convenience feature and will never be required by the logic.
    'false': 4
    'true': 1

  MinTier:
    # The minimum tier of items that can appear in the item pool.
    #
    # You can define additional values between the minimum and maximum values.
    # Minimum value is 1
    # Maximum value is 4
    # Default is 1
    random-range-low-1-4: 1

  MaxTier:
    # The maximum tier of items that can appear in the item pool.
    #
    # You can define additional values between the minimum and maximum values.
    # Minimum value is 5
    # Maximum value is 8
    # Default is 8
    random-range-high-5-8: 1

  JunkTier:
    # Items of this tier or below will automatically be sold for cold hard cash.
    #
    # You can define additional values between the minimum and maximum values.
    # Minimum value is 0
    # Maximum value is 8
    # Default is 1
    1: 50
    random: 0
    random-low: 0
    random-high: 0

  JunkedItems:
    # Items that will always be sold for GP regardless of your junk tier settings.
    []

  KeptItems:
    # Items that will never be sold for GP regardless of your junk tier settings. Takes priority over Junked Items.
    []

  ###################
  # Challenge Flags #
  ###################
  HeroChallenge:
    # Enable the Hero Challenge. In Hero Challenge, your starting character is your main character and cannot be
    # dismissed. They will face the top of Mt. Ordeals on their own, and Kokkol will forge a weapon from FFIV Advance
    # for them (unless Forge the Crystal is set).
    none: 32
    cecil: 8
    kain: 4
    rydia: 4
    tellah: 4
    edward: 2
    rosa: 2
    yang: 2
    palom: 2
    porom: 2
    cid: 2
    edge: 1
    fusoya: 1
    random_character: 0

  PartySize:
    # Maximum party size.
    #
    # You can define additional values between the minimum and maximum values.
    # Minimum value is 1
    # Maximum value is 5
    random-range-high-1-4: 1
    5: 4

  CharactersPermajoin:
    # If enabled, characters may not be dismissed from the party.
    'false': 50
    'true': 0

  CharactersPermadie:
    # If enabled, characters petrified or dead at the end of battle will be removed from your party forever.
    # On Extreme difficulty, this also includes "cutscene" fights (Mist, Dark Elf, etc.)
    'no': 16
    'yes': 4
    extreme: 1

  UnsafeKeyItemPlacement:
    # Normally, underground access is guaranteed to be available without taking a trip to the moon.
    # Toggling this on disables this check.
    'false': 50
    'true': 0

  NoAdamantArmors:
    # Remove Adamant Armor from the item and shop pool.
    'false': 50
    'true': 0

  KeepDoorsBehemoths:
    # Should Trap Door and Behemoth Fights be enabled even when encounters are off?
    'false': 50
    'true': 0

  NoFreeBosses:
    # Removes alternate win conditions for bosses other than good old fashioned violence.
    'false': 50
    'true': 0

  WackyChallenge:
    # Wacky challenges are not fair, balanced, stable, or even necessarily interesting.
    # They are, however, quite wacky. See FE documentation for more info, or pick one for a fun surprise!
    none: 50
    afflicted: 0
    battle_scars: 0
    the_bodyguard: 0
    enemy_unknown: 0
    ff4_the_musical: 0
    fist_fight: 0
    forward_is_the_new_back: 0
    friendly_fire: 0
    the_floor_is_made_of_lava: 0
    gotta_go_fast: 0
    holy_onomatopoeia_batman: 0
    imaginary_numbers: 0
    is_this_even_randomized: 0
    kleptomania: 0
    men_are_pigs: 0
    misspelled: 0
    a_much_bigger_magnet: 0
    mystery_juice: 0
    neat_freak: 0
    night_mode: 0
    omnidextrous: 0
    payable_golbez: 0
    save_us_big_chocobo: 0
    six_legged_race: 0
    the_sky_warriors: 0
    something_worth_fighting_for: 0
    the_tellah_maneuver: 0
    three_point_system: 0
    time_is_money: 0
    unstackable: 0
    world_championship_of_darts: 0
    zombies: 0
    random_challenge: 0

  #######################
  # Miscellaneous Flags #
  #######################
  ShopRandomization:
    # Affects the placement of items in shops. See FE documentation for more for now.
    vanilla: 1
    shuffle: 2
    standard: 16
    pro: 8
    wild: 4
    cabins: 0

  FreeShops:
    # Everything must go!
    'false': 8
    'true': 1

  StarterKitOne:
    # FE Starter Kit 1. See FE Documentation for details. Or just pick one, they can't hurt you.
    none: 8 # about 90% any kit
    basic: 8
    better: 4
    loaded: 2
    cata: 8
    freedom: 8
    cid: 4
    yang: 4
    money: 4
    grab_bag: 4
    miab: 2
    archer: 2
    fabul: 2
    castlevania: 2
    summon: 2
    not_deme: 2
    meme: 2
    defense: 2
    mist: 2
    mysidia: 2
    baron: 2
    dwarf: 2
    eblan: 2
    libra: 2
    '99': 1
    green_names: 1
    random_kit: 0

  StarterKitTwo:
    # FE Starter Kit 2. See FE Documentation for details. Or just pick one, they can't hurt you.
    none: 64 # about 50% any kit
    basic: 8
    better: 4
    loaded: 2
    cata: 8
    freedom: 8
    cid: 4
    yang: 4
    money: 4
    grab_bag: 4
    miab: 2
    archer: 2
    fabul: 2
    castlevania: 2
    summon: 2
    not_deme: 2
    meme: 2
    defense: 2
    mist: 2
    mysidia: 2
    baron: 2
    dwarf: 2
    eblan: 2
    libra: 2
    '99': 1
    green_names: 1
    random_kit: 0

  StarterKitThree:
    # FE Starter Kit 3. See FE Documentation for details. Or just pick one, they can't hurt you.
    none: 128 # about 37% any kit
    basic: 8
    better: 4
    loaded: 2
    cata: 8
    freedom: 8
    cid: 4
    yang: 4
    money: 4
    grab_bag: 4
    miab: 2
    archer: 2
    fabul: 2
    castlevania: 2
    summon: 2
    not_deme: 2
    meme: 2
    defense: 2
    mist: 2
    mysidia: 2
    baron: 2
    dwarf: 2
    eblan: 2
    libra: 2
    '99': 1
    green_names: 1
    random_kit: 0

  ###########################
  # Item & Location Options #
  ###########################
  local_items:
    # Forces these items to be in their native world.
    []

  non_local_items:
    # Forces these items to be outside their native world.
    []

  start_inventory:
    # Start with these items.
    {}

  start_inventory_from_pool:
    # Start with these items and don't place them in the world.
    # 
    # The game decides what the replacement items will be.
    {}

  start_hints:
    # Start with these item's locations prefilled into the ``!hint`` command.
    []

  start_location_hints:
    # Start with these locations and their item prefilled into the ``!hint`` command.
    []

  exclude_locations:
    # Prevent these locations from having an important item.
    []

  priority_locations:
    # Prevent these locations from having an unimportant item.
    []

  item_links:
    # Share part of your item pool with other players.
    []

  plando_items:
    # Generic items plando.
    []

  triggers:

  # MainObjective
  - option_category: Final Fantasy IV Free Enterprise
    option_name: MainObjective
    option_result: crystal
    options:
      Final Fantasy IV Free Enterprise:
        ForgeTheCrystal: 'true'
  - option_category: Final Fantasy IV Free Enterprise
    option_name: MainObjective
    option_result: giant
    options:
      Final Fantasy IV Free Enterprise:
        ConquerTheGiant: 'true'
  - option_category: Final Fantasy IV Free Enterprise
    option_name: MainObjective
    option_result: fiends
    options:
      Final Fantasy IV Free Enterprise:
        DefeatTheFiends: 'true'
  - option_category: Final Fantasy IV Free Enterprise
    option_name: MainObjective
    option_result: dark-matter
    options:
      Final Fantasy IV Free Enterprise:
        FindTheDarkMatter: 'true'
  - option_category: Final Fantasy IV Free Enterprise
    option_name: MainObjective
    option_result: crystal-plus
    options:
      Final Fantasy IV Free Enterprise:
        ForgeTheCrystal: 'true'
        ConquerTheGiant:
          'false': 2
          'true': 1
        DefeatTheFiends:
          'false': 2
          'true': 1
        FindTheDarkMatter:
          'false': 2
          'true': 1
  - option_category: Final Fantasy IV Free Enterprise
    option_name: MainObjective
    option_result: giant-plus
    options:
      Final Fantasy IV Free Enterprise:
        ConquerTheGiant: 'true'
        ForgeTheCrystal:
          'false': 2
          'true': 1
        DefeatTheFiends:
          'false': 2
          'true': 1
        FindTheDarkMatter:
          'false': 2
          'true': 1
  - option_category: Final Fantasy IV Free Enterprise
    option_name: MainObjective
    option_result: fiends-plus
    options:
      Final Fantasy IV Free Enterprise:
        DefeatTheFiends: 'true'
        ForgeTheCrystal:
          'false': 2
          'true': 1
        ConquerTheGiant:
          'false': 2
          'true': 1
        FindTheDarkMatter:
          'false': 2
          'true': 1
  - option_category: Final Fantasy IV Free Enterprise
    option_name: MainObjective
    option_result: dark-matter-plus
    options:
      Final Fantasy IV Free Enterprise:
        FindTheDarkMatter: 'true'
        ForgeTheCrystal:
          'false': 2
          'true': 1
        ConquerTheGiant:
          'false': 2
          'true': 1
        DefeatTheFiends:
          'false': 2
          'true': 1
  # force at least one additional objective if no main objective
  - option_category: Final Fantasy IV Free Enterprise
    option_name: MainObjective
    option_result: none
    options:
      Final Fantasy IV Free Enterprise:
        AdditionalObjectives:
          random-range-low-1-4: 8
          random-range-low-5-10: 4
          random-range-low-11-20: 2
          random-range-low-21-32: 1